<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	#box{
		width:500px;
		height: 500px;
		border: 5px solid #eee;
		margin:  50px auto 0;
		position: relative;
	}
	#box img{
		width:500px;
		height: 500px;
	}
	a{
		width: 60px;
		height: 60px;
		position: absolute;
		top:0;
		bottom: 0;
		margin: auto 0;
		font-size: 60px;
		text-decoration: none;
		color:white;
		opacity: 0.4;
		font-weight: bold;
		line-height: 60px;
		text-align: center;
	}
	a:hover{
		opacity:1;
	}
	#prev{
		left: 20px;
	}
	#next{
		right: 20px;
	}
	#list{
		
		text-align: center;
		margin: -40px 0 0 ;
		padding: 0;
	}
	#list li{
		width:30px;
		height: 30px;
		border-radius: 50%;
		list-style: none;
		background: #ce8;
		display: inline-block;
		margin: 0 5px;
		position: relative;
	}
	#list li:hover{
		cursor: pointer;
	}
	#list .active{
		background: #abc;
	}
	#list li div{
		width:100px;
		height: 100px;
		position: absolute;
		top:-112px;
		left:-35px;
		display: none;
		background: white;
	}
	#list li div img{
		width: 80px;
		height: 80px;
		margin: 10px;
	}
	#list li div span{
		width:0px;
		height: 0px;
		border: 7px solid transparent;
		border-top-color: red; 
		position: relative;
		bottom: -3px;
	}
	#list li:hover div{
		display: block;
	}
	</style>
</head>
<body>
	<div id="box">
		<img src="11.jpg" alt="" id="img">
		<a href="javascript:;" id="prev"><</a>
		<a href="javascript:;" id="next">></a>
		<ul id="list"></ul>
	</div>
	<script type="text/javascript">
		var prev = document.getElementById('prev');
		var next = document.getElementById('next');
		var img = document.getElementById('img');
		var list =document.getElementById('list');
		var lis = list.getElementsByTagName('li');

		var arr = ['11.jpg','22.jpg','33.jpg','44.jpg'];
		var num = 0;

		for(var i = 0;i < arr.length;i++){
			list.innerHTML += '<li><div><img src="'+arr[i]+'"/><span></span></div></li>';
		}
		//给第一个添加焦点
		lis[0].className = 'active';

		for(var i = 0;i < lis.length;i++){
			lis[i].index = i;
			//按钮点击的时候切换图片到对应的张数
			lis[i].onclick = function(){
				//清楚所有
				// for(var i = 0;i < lis.length;i++){
				// 	lis[i].className = '';
				// }
				//添加当前
				//this.className = 'active';
				fn(this.index);
				//图片切换为当前对应的
				//img.src = arr[this.index];
				num = this.index;
			}
		}
		next.onclick = function(){
			num++;
			if(num >= arr.length){
				num = 0;
			}
			
			fn(num);
			
		}
		prev.onclick = function(){
			num--;
			if(num < 0){
				num = arr.length - 1;
			}
			fn(num);
		}
		function fn(num){
			img.src = arr[num];
			for(var i = 0;i < lis.length;i++){
				lis[i].className = '';
			}
			lis[num].className = 'active';
		}
	</script>
</body>
</html>